<!DOCTYPE html>
<html>
<head>
    <title>Roulette Result - {{ player.nickname }}</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            background: linear-gradient(135deg, #8B0000, #DC143C);
            color: white;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .container { 
            max-width: 800px; 
            padding: 40px; 
            text-align: center; 
        }
        .result-card { 
            background: rgba(255,255,255,0.1); 
            padding: 40px; 
            border-radius: 20px; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            border: 3px solid gold;
        }
        .winning-number {
            font-size: 4em;
            font-weight: bold;
            margin: 20px 0;
            padding: 20px;
            border-radius: 50%;
            width: 120px;
            height: 120px;
            margin: 20px auto;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 5px solid gold;
        }
        .red { 
            background: linear-gradient(45deg, #FF0000, #8B0000); 
        }
        .black { 
            background: linear-gradient(45deg, #000000, #333333); 
        }
        .green { 
            background: linear-gradient(45deg, #00FF00, #008000); 
        }
        
        h1 { 
            font-size: 2.5em; 
            margin-bottom: 20px; 
            color: #FFD700; 
        }
        
        .bet-results {
            margin: 30px 0;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }
        .bet-result {
            padding: 15px;
            border-radius: 10px;
            border: 2px solid;
        }
        .bet-won { 
            background: rgba(40, 167, 69, 0.3); 
            border-color: #28a745;
        }
        .bet-lost { 
            background: rgba(220, 53, 69, 0.3); 
            border-color: #dc3545;
        }
        
        .summary {
            background: rgba(255,215,0,0.2);
            padding: 20px;
            border-radius: 10px;
            margin: 30px 0;
            border: 2px solid gold;
        }
        .summary h3 { 
            color: #FFD700; 
        }
        
        .btn {
            padding: 15px 30px;
            margin: 10px;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
            transition: all 0.3s;
        }
        .btn-primary { 
            background: #007bff; 
            color: white; 
        }
        .btn-primary:hover { 
            background: #0056b3; 
        }
        .btn-secondary { 
            background: #6c757d; 
            color: white; 
        }
        .btn-secondary:hover { 
            background: #545b62; 
        }
        .btn-success { 
            background: #28a745; 
            color: white; 
        }
        .btn-success:hover { 
            background: #218838; 
        }
        
        .emoji { 
            font-size: 3em; 
            margin: 20px 0; 
        }
        
        .roulette-wheel-result {
            width: 150px;
            height: 150px;
            border: 8px solid gold;
            border-radius: 50%;
            margin: 20px auto;
            background: conic-gradient(
                from 0deg,
                red 0deg 10deg, black 10deg 20deg, red 20deg 30deg, black 30deg 40deg,
                red 40deg 50deg, black 50deg 60deg, red 60deg 70deg, black 70deg 80deg,
                red 80deg 90deg, black 90deg 100deg, red 100deg 110deg, black 110deg 120deg,
                red 120deg 130deg, black 130deg 140deg, red 140deg 150deg, black 150deg 160deg,
                red 160deg 170deg, black 170deg 180deg, green 180deg 190deg, red 190deg 200deg,
                black 200deg 210deg, red 210deg 220deg, black 220deg 230deg, red 230deg 240deg,
                black 240deg 250deg, red 250deg 260deg, black 260deg 270deg, red 270deg 280deg,
                black 280deg 290deg, red 290deg 300deg, black 300deg 310deg, red 310deg 320deg,
                black 320deg 330deg, red 330deg 340deg, black 340deg 350deg, red 350deg 360deg
            );
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .net-positive {
            color: #28a745;
        }
        
        .net-negative {
            color: #dc3545;
        }
        
        .net-zero {
            color: #ffc107;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="result-card">
            <h1>🎰 Roulette Results 🎰</h1>
            
            <!-- Spinning Wheel Animation -->
            <div class="roulette-wheel-result"></div>
            
            <!-- Winning Number -->
            <div class="winning-number {{ game_result.winning_color }}">
                {{ game_result.winning_number }}
            </div>
            
            <h2>Winning Number: {{ game_result.winning_number }} ({{ game_result.winning_color|title }})</h2>
            
            {% if game_result.total_payout > game_result.total_bet %}
                <div class="emoji">🎉🏆💰</div>
            {% elif game_result.total_payout == game_result.total_bet %}
                <div class="emoji">🤝💸</div>
            {% else %}
                <div class="emoji">😞💸</div>
            {% endif %}
            
            <!-- Bet Results -->
            <div class="bet-results">
                {% for bet in game_result.bet_results %}
                    <div class="bet-result {% if bet.won %}bet-won{% else %}bet-lost{% endif %}">
                        <h4>
                            {% if bet.type == 'number' %}
                                Number {{ bet.number }}
                            {% elif bet.type == 'red' %}
                                🔴 Red
                            {% elif bet.type == 'black' %}
                                ⚫ Black
                            {% elif bet.type == 'first_half' %}
                                📊 1-18
                            {% elif bet.type == 'second_half' %}
                                📈 19-36
                            {% elif bet.type == 'even' %}
                                🔢 Even
                            {% elif bet.type == 'odd' %}
                                🎯 Odd
                            {% else %}
                                {{ bet.type|title }}
                            {% endif %}
                        </h4>
                        <p><strong>Bet:</strong> ${{ bet.amount }}</p>
                        {% if bet.won %}
                            <p style="color: #28a745; font-size: 18px;">✅ <strong>WON!</strong></p>
                            <p><strong>Payout:</strong> ${{ bet.payout }}</p>
                        {% else %}
                            <p style="color: #dc3545; font-size: 18px;">❌ <strong>Lost</strong></p>
                        {% endif %}
                    </div>
                {% endfor %}
            </div>
            
            <!-- Summary -->
            <div class="summary">
                <h3>📊 Game Summary</h3>
                <p><strong>Total Bet:</strong> ${{ game_result.total_bet }}</p>
                <p><strong>Total Payout:</strong> ${{ game_result.total_payout }}</p>
                <p style="font-size: 1.3em;"><strong>Net Result:</strong> 
                    <span class="{% if net_result > 0 %}net-positive{% elif net_result < 0 %}net-negative{% else %}net-zero{% endif %}" style="font-weight: bold;">
                        {% if net_result > 0 %}
                            +${{ net_result }}
                        {% elif net_result == 0 %}
                            ${{ net_result }}
                        {% else %}
                            -${{ net_result|floatformat:"2"|slice:"1:" }}
                        {% endif %}
                    </span>
                </p>
                <hr style="border-color: gold; margin: 20px 0;">
                <p style="font-size: 1.2em;"><strong>Your Balance:</strong> ${{ player.balance }}</p>
            </div>
            
            <!-- Result Message -->
            {% if net_result > 0 %}
                <div style="color: #28a745; font-size: 1.5em; margin: 20px 0;">
                    🎉 Congratulations! You won ${{ net_result }}! 🎉
                </div>
            {% elif net_result == 0 %}
                <div style="color: #ffc107; font-size: 1.3em; margin: 20px 0;">
                    🤝 Break even! No money lost or gained.
                </div>
            {% else %}
                <div style="color: #dc3545; font-size: 1.3em; margin: 20px 0;">
                    😞 Better luck next time! You lost ${{ net_result|floatformat:"2"|slice:"1:" }}.
                </div>
            {% endif %}
            
            <!-- Actions -->
            <div style="margin-top: 30px;">
                <a href="{% url 'play_roulette' player.id %}" class="btn btn-primary">🎰 Play Roulette Again</a>
                <a href="{% url 'play_game' player.id %}" class="btn btn-success">🃏 Play Blackjack</a>
                <a href="{% url 'home' %}" class="btn btn-secondary">🏠 Home</a>
            </div>
        </div>
    </div>
</body>
</html>